/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { companyBenefitsList } from "../../funcs/companyBenefitsList.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request:
    operations.GetV1CompaniesCompanyIdCompanyBenefitsRequest$inboundSchema,
};

export const tool$companyBenefitsList: ToolDefinition<typeof args> = {
  name: "company-benefits_list",
  description: `Get benefits for a company

Company benefits represent the benefits that a company is offering to employees. This ties together a particular supported benefit with the company-specific information for the offering of that benefit.

Note that company benefits can be deactivated only when no employees are enrolled.

Benefits containing PHI are only visible to applications with the \`company_benefits:read:phi\` scope.

scope: \`company_benefits:read\``,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await companyBenefitsList(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
