/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { employeeAddressesRetrieveHomeAddress } from "../../funcs/employeeAddressesRetrieveHomeAddress.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.GetV1HomeAddressesHomeAddressUuidRequest$inboundSchema,
};

export const tool$employeeAddressesRetrieveHomeAddress: ToolDefinition<
  typeof args
> = {
  name: "employee-addresses_retrieve-home-address",
  description: `Get an employee's home address

The home address of an employee is used to determine certain tax information about them. Addresses are geocoded on create and update to ensure validity.

Supports home address effective dating and courtesy withholding.

scope: \`employees:read\``,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await employeeAddressesRetrieveHomeAddress(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
