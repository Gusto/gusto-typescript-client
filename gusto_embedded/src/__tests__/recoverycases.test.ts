/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { GustoEmbedded } from "../index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Recoverycases Get Recovery Cases Example", async () => {
  const gustoEmbedded = new GustoEmbedded({
    httpClient: createTestHTTPClient("get-recovery-cases-Example"),
    companyAccessAuth: process.env["GUSTOEMBEDDED_COMPANY_ACCESS_AUTH"] ?? "",
  });

  const result = await gustoEmbedded.recoveryCases.getAll({
    companyUuid: "<id>",
  });
  expect(result).toBeDefined();
  expect(result).toEqual([
    {
      uuid: "e83d273e-4ae9-4b61-9c71-4030c2f73093",
      companyUuid: "c5e3e3e9-732f-4762-849e-20b5cec9036f",
      status: "open",
      latestErrorCode: "R01",
      originalDebitDate: "2023-10-11T00:00:00Z",
      checkDate: "2023-10-13T00:00:00Z",
      payrollUuid: "210f2034-fb4a-4059-b109-6c3b5efe499d",
      contractorPaymentUuids: [
        "<value>",
        "<value>",
      ],
      amountOutstanding: "10499.43",
      eventTotalAmount: "5912.07",
    },
  ]);
});

test("Recoverycases Redebit Recovery Case Basic", async () => {
  const gustoEmbedded = new GustoEmbedded({
    httpClient: createTestHTTPClient("redebit-recovery-case-Basic"),
    companyAccessAuth: process.env["GUSTOEMBEDDED_COMPANY_ACCESS_AUTH"] ?? "",
  });

  await gustoEmbedded.recoveryCases.redebit({
    recoveryCaseUuid: "<id>",
  });
});

test("Recoverycases Redebit Recovery Case Resource", async () => {
  const gustoEmbedded = new GustoEmbedded({
    httpClient: createTestHTTPClient("redebit-recovery-case-Resource"),
    companyAccessAuth: process.env["GUSTOEMBEDDED_COMPANY_ACCESS_AUTH"] ?? "",
  });

  await gustoEmbedded.recoveryCases.redebit({
    recoveryCaseUuid: "<id>",
  });
});

test("Recoverycases Redebit Recovery Case Nested", async () => {
  const gustoEmbedded = new GustoEmbedded({
    httpClient: createTestHTTPClient("redebit-recovery-case-Nested"),
    companyAccessAuth: process.env["GUSTOEMBEDDED_COMPANY_ACCESS_AUTH"] ?? "",
  });

  await gustoEmbedded.recoveryCases.redebit({
    recoveryCaseUuid: "<id>",
  });
});
