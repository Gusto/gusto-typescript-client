/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * The status of the external payroll. The status will be `unprocessed` when the external payroll is created and transition to `processed` once tax liabilities are entered and finalized.  Once in the `processed` status all actions that can edit an external payroll will be disabled.
 */
export const ExternalPayrollStatus = {
  Unprocessed: "unprocessed",
  Processed: "processed",
} as const;
/**
 * The status of the external payroll. The status will be `unprocessed` when the external payroll is created and transition to `processed` once tax liabilities are entered and finalized.  Once in the `processed` status all actions that can edit an external payroll will be disabled.
 */
export type ExternalPayrollStatus = OpenEnum<typeof ExternalPayrollStatus>;

export type Earning = {
  amount?: string | undefined;
  hours?: string | undefined;
  earningType?: string | undefined;
  earningId?: number | undefined;
};

export type ExternalPayrollBenefit = {
  benefitId?: number | undefined;
  companyContributionAmount?: string | undefined;
  employeeDeductionAmount?: string | undefined;
};

export type ExternalPayrollTax = {
  taxId?: number | undefined;
  amount?: string | undefined;
};

export type ExternalPayrollItem = {
  employeeUuid?: string | undefined;
  earnings?: Array<Earning> | undefined;
  benefits?: Array<ExternalPayrollBenefit> | undefined;
  taxes?: Array<ExternalPayrollTax> | undefined;
};

export type ApplicableEarning = {
  earningType?: string | undefined;
  earningId?: number | undefined;
  name?: string | undefined;
  inputType?: string | undefined;
  category?: string | undefined;
};

export type ApplicableBenefit = {
  id?: number | undefined;
  description?: string | undefined;
  active?: boolean | undefined;
};

export type ApplicableTax = {
  id?: number | undefined;
  name?: string | undefined;
  /**
   * Some taxes may have an amount withheld from the employee and an amount withheld from the employer, e.g. Social Security. A `true` value indicates this is the employer's amount.
   */
  employerTax?: boolean | undefined;
  /**
   * Some taxes may have different rates or reporting requirements depending on if the employee is a resident or non-resident of the tax jurisdiction.
   */
  residentTax?: boolean | undefined;
};

/**
 * Stores metadata of the external payroll.
 */
export type ExternalPayrollMetadata = {
  /**
   * Determines if the external payroll can be deleted.
   */
  deletable?: boolean | undefined;
};

/**
 * The representation of an external payroll.
 */
export type ExternalPayroll = {
  /**
   * The UUID of the external payroll.
   */
  uuid: string;
  /**
   * The UUID of the company.
   */
  companyUuid?: string | undefined;
  /**
   * External payroll's check date.
   */
  checkDate?: string | undefined;
  /**
   * External payroll's pay period start date.
   */
  paymentPeriodStartDate?: string | undefined;
  /**
   * External payroll's pay period end date.
   */
  paymentPeriodEndDate?: string | undefined;
  /**
   * The status of the external payroll. The status will be `unprocessed` when the external payroll is created and transition to `processed` once tax liabilities are entered and finalized.  Once in the `processed` status all actions that can edit an external payroll will be disabled.
   */
  status?: ExternalPayrollStatus | undefined;
  /**
   * External payroll items for employees
   */
  externalPayrollItems?: Array<ExternalPayrollItem> | undefined;
  /**
   * Applicable earnings based on company provisioning.
   */
  applicableEarnings?: Array<ApplicableEarning> | undefined;
  /**
   * Applicable benefits based on company provisioning.
   */
  applicableBenefits?: Array<ApplicableBenefit> | null | undefined;
  /**
   * Applicable taxes based on company provisioning.
   */
  applicableTaxes?: Array<ApplicableTax> | undefined;
  /**
   * Stores metadata of the external payroll.
   */
  metadata?: ExternalPayrollMetadata | undefined;
};

/** @internal */
export const ExternalPayrollStatus$inboundSchema: z.ZodMiniType<
  ExternalPayrollStatus,
  unknown
> = openEnums.inboundSchema(ExternalPayrollStatus);

/** @internal */
export const Earning$inboundSchema: z.ZodMiniType<Earning, unknown> = z.pipe(
  z.object({
    amount: types.optional(types.string()),
    hours: types.optional(types.string()),
    earning_type: types.optional(types.string()),
    earning_id: types.optional(types.number()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "earning_type": "earningType",
      "earning_id": "earningId",
    });
  }),
);

export function earningFromJSON(
  jsonString: string,
): SafeParseResult<Earning, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Earning$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Earning' from JSON`,
  );
}

/** @internal */
export const ExternalPayrollBenefit$inboundSchema: z.ZodMiniType<
  ExternalPayrollBenefit,
  unknown
> = z.pipe(
  z.object({
    benefit_id: types.optional(types.number()),
    company_contribution_amount: types.optional(types.string()),
    employee_deduction_amount: types.optional(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "benefit_id": "benefitId",
      "company_contribution_amount": "companyContributionAmount",
      "employee_deduction_amount": "employeeDeductionAmount",
    });
  }),
);

export function externalPayrollBenefitFromJSON(
  jsonString: string,
): SafeParseResult<ExternalPayrollBenefit, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExternalPayrollBenefit$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExternalPayrollBenefit' from JSON`,
  );
}

/** @internal */
export const ExternalPayrollTax$inboundSchema: z.ZodMiniType<
  ExternalPayrollTax,
  unknown
> = z.pipe(
  z.object({
    tax_id: types.optional(types.number()),
    amount: types.optional(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "tax_id": "taxId",
    });
  }),
);

export function externalPayrollTaxFromJSON(
  jsonString: string,
): SafeParseResult<ExternalPayrollTax, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExternalPayrollTax$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExternalPayrollTax' from JSON`,
  );
}

/** @internal */
export const ExternalPayrollItem$inboundSchema: z.ZodMiniType<
  ExternalPayrollItem,
  unknown
> = z.pipe(
  z.object({
    employee_uuid: types.optional(types.string()),
    earnings: types.optional(z.array(z.lazy(() => Earning$inboundSchema))),
    benefits: types.optional(
      z.array(z.lazy(() => ExternalPayrollBenefit$inboundSchema)),
    ),
    taxes: types.optional(
      z.array(z.lazy(() => ExternalPayrollTax$inboundSchema)),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      "employee_uuid": "employeeUuid",
    });
  }),
);

export function externalPayrollItemFromJSON(
  jsonString: string,
): SafeParseResult<ExternalPayrollItem, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExternalPayrollItem$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExternalPayrollItem' from JSON`,
  );
}

/** @internal */
export const ApplicableEarning$inboundSchema: z.ZodMiniType<
  ApplicableEarning,
  unknown
> = z.pipe(
  z.object({
    earning_type: types.optional(types.string()),
    earning_id: types.optional(types.number()),
    name: types.optional(types.string()),
    input_type: types.optional(types.string()),
    category: types.optional(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "earning_type": "earningType",
      "earning_id": "earningId",
      "input_type": "inputType",
    });
  }),
);

export function applicableEarningFromJSON(
  jsonString: string,
): SafeParseResult<ApplicableEarning, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ApplicableEarning$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ApplicableEarning' from JSON`,
  );
}

/** @internal */
export const ApplicableBenefit$inboundSchema: z.ZodMiniType<
  ApplicableBenefit,
  unknown
> = z.object({
  id: types.optional(types.number()),
  description: types.optional(types.string()),
  active: types.optional(types.boolean()),
});

export function applicableBenefitFromJSON(
  jsonString: string,
): SafeParseResult<ApplicableBenefit, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ApplicableBenefit$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ApplicableBenefit' from JSON`,
  );
}

/** @internal */
export const ApplicableTax$inboundSchema: z.ZodMiniType<
  ApplicableTax,
  unknown
> = z.pipe(
  z.object({
    id: types.optional(types.number()),
    name: types.optional(types.string()),
    employer_tax: types.optional(types.boolean()),
    resident_tax: types.optional(types.boolean()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "employer_tax": "employerTax",
      "resident_tax": "residentTax",
    });
  }),
);

export function applicableTaxFromJSON(
  jsonString: string,
): SafeParseResult<ApplicableTax, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ApplicableTax$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ApplicableTax' from JSON`,
  );
}

/** @internal */
export const ExternalPayrollMetadata$inboundSchema: z.ZodMiniType<
  ExternalPayrollMetadata,
  unknown
> = z.object({
  deletable: types.optional(types.boolean()),
});

export function externalPayrollMetadataFromJSON(
  jsonString: string,
): SafeParseResult<ExternalPayrollMetadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExternalPayrollMetadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExternalPayrollMetadata' from JSON`,
  );
}

/** @internal */
export const ExternalPayroll$inboundSchema: z.ZodMiniType<
  ExternalPayroll,
  unknown
> = z.pipe(
  z.object({
    uuid: types.string(),
    company_uuid: types.optional(types.string()),
    check_date: types.optional(types.string()),
    payment_period_start_date: types.optional(types.string()),
    payment_period_end_date: types.optional(types.string()),
    status: types.optional(ExternalPayrollStatus$inboundSchema),
    external_payroll_items: types.optional(
      z.array(z.lazy(() => ExternalPayrollItem$inboundSchema)),
    ),
    applicable_earnings: types.optional(
      z.array(z.lazy(() => ApplicableEarning$inboundSchema)),
    ),
    applicable_benefits: z.optional(
      z.nullable(z.array(z.lazy(() => ApplicableBenefit$inboundSchema))),
    ),
    applicable_taxes: types.optional(
      z.array(z.lazy(() => ApplicableTax$inboundSchema)),
    ),
    metadata: types.optional(
      z.lazy(() => ExternalPayrollMetadata$inboundSchema),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      "company_uuid": "companyUuid",
      "check_date": "checkDate",
      "payment_period_start_date": "paymentPeriodStartDate",
      "payment_period_end_date": "paymentPeriodEndDate",
      "external_payroll_items": "externalPayrollItems",
      "applicable_earnings": "applicableEarnings",
      "applicable_benefits": "applicableBenefits",
      "applicable_taxes": "applicableTaxes",
    });
  }),
);

export function externalPayrollFromJSON(
  jsonString: string,
): SafeParseResult<ExternalPayroll, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExternalPayroll$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExternalPayroll' from JSON`,
  );
}
