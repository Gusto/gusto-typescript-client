/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * The type of payment event associated with the ACH transaction
 */
export const PaymentEventType = {
  Payroll: "Payroll",
  ContractorPayment: "ContractorPayment",
} as const;
/**
 * The type of payment event associated with the ACH transaction
 */
export type PaymentEventType = OpenEnum<typeof PaymentEventType>;

/**
 * The type of recipient associated with the ACH transaction
 */
export const AchTransactionRecipientType = {
  Employee: "Employee",
  Contractor: "Contractor",
} as const;
/**
 * The type of recipient associated with the ACH transaction
 */
export type AchTransactionRecipientType = OpenEnum<
  typeof AchTransactionRecipientType
>;

/**
 * The status of the ACH transaction
 */
export const AchTransactionPaymentStatus = {
  Unsubmitted: "unsubmitted",
  Submitted: "submitted",
  Successful: "successful",
  Failed: "failed",
} as const;
/**
 * The status of the ACH transaction
 */
export type AchTransactionPaymentStatus = OpenEnum<
  typeof AchTransactionPaymentStatus
>;

/**
 * The direction of the payment
 */
export const PaymentDirection = {
  Credit: "credit",
  Debit: "debit",
} as const;
/**
 * The direction of the payment
 */
export type PaymentDirection = OpenEnum<typeof PaymentDirection>;

/**
 * Representation of an ACH transaction
 */
export type AchTransaction = {
  /**
   * Unique identifier of an ACH transaction
   */
  uuid: string;
  /**
   * Unique identifier of the company to which the ACH transaction belongs
   */
  companyUuid?: string | undefined;
  /**
   * The type of payment event associated with the ACH transaction
   */
  paymentEventType?: PaymentEventType | undefined;
  /**
   * Unique identifier for the payment event associated with the ACH transaction
   */
  paymentEventUuid?: string | undefined;
  /**
   * The type of recipient associated with the ACH transaction
   */
  recipientType?: AchTransactionRecipientType | null | undefined;
  /**
   * Unique identifier for the recipient associated with the ACH transaction
   */
  recipientUuid?: string | undefined;
  /**
   * The error code associated with the ACH transaction, if any. If there is no error on the ACH transaction, this field will be nil. See [this article](https://engineering.gusto.com/how-ach-works-a-developer-perspective-part-2/) for a complete list of ACH return codes.
   */
  errorCode?: string | undefined;
  /**
   * The type of transaction associated with the ACH transaction
   */
  transactionType?: string | undefined;
  /**
   * The status of the ACH transaction
   */
  paymentStatus?: AchTransactionPaymentStatus | undefined;
  /**
   * The direction of the payment
   */
  paymentDirection?: PaymentDirection | undefined;
  /**
   * The date of the payment event check associated with the ACH transaction
   */
  paymentEventCheckDate?: string | undefined;
  /**
   * The date of the payment associated with the ACH transaction
   */
  paymentDate?: string | undefined;
  /**
   * The amount of money moved by the ACH transaction. This amount is always non-negative.
   */
  amount?: string | undefined;
  /**
   * The description of the ACH transaction. Can be used to identify the ACH transaction on the recipient's bank statement.
   */
  description?: string | undefined;
};

/** @internal */
export const PaymentEventType$inboundSchema: z.ZodMiniType<
  PaymentEventType,
  unknown
> = openEnums.inboundSchema(PaymentEventType);

/** @internal */
export const AchTransactionRecipientType$inboundSchema: z.ZodMiniType<
  AchTransactionRecipientType,
  unknown
> = openEnums.inboundSchema(AchTransactionRecipientType);

/** @internal */
export const AchTransactionPaymentStatus$inboundSchema: z.ZodMiniType<
  AchTransactionPaymentStatus,
  unknown
> = openEnums.inboundSchema(AchTransactionPaymentStatus);

/** @internal */
export const PaymentDirection$inboundSchema: z.ZodMiniType<
  PaymentDirection,
  unknown
> = openEnums.inboundSchema(PaymentDirection);

/** @internal */
export const AchTransaction$inboundSchema: z.ZodMiniType<
  AchTransaction,
  unknown
> = z.pipe(
  z.object({
    uuid: types.string(),
    company_uuid: types.optional(types.string()),
    payment_event_type: types.optional(PaymentEventType$inboundSchema),
    payment_event_uuid: types.optional(types.string()),
    recipient_type: z.optional(
      z.nullable(AchTransactionRecipientType$inboundSchema),
    ),
    recipient_uuid: types.optional(types.string()),
    error_code: types.optional(types.string()),
    transaction_type: types.optional(types.string()),
    payment_status: types.optional(AchTransactionPaymentStatus$inboundSchema),
    payment_direction: types.optional(PaymentDirection$inboundSchema),
    payment_event_check_date: types.optional(types.string()),
    payment_date: types.optional(types.string()),
    amount: types.optional(types.string()),
    description: types.optional(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "company_uuid": "companyUuid",
      "payment_event_type": "paymentEventType",
      "payment_event_uuid": "paymentEventUuid",
      "recipient_type": "recipientType",
      "recipient_uuid": "recipientUuid",
      "error_code": "errorCode",
      "transaction_type": "transactionType",
      "payment_status": "paymentStatus",
      "payment_direction": "paymentDirection",
      "payment_event_check_date": "paymentEventCheckDate",
      "payment_date": "paymentDate",
    });
  }),
);

export function achTransactionFromJSON(
  jsonString: string,
): SafeParseResult<AchTransaction, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => AchTransaction$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'AchTransaction' from JSON`,
  );
}
