/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

export type DepartmentEmployee = {
  uuid?: string | undefined;
};

export type DepartmentContractor = {
  uuid?: string | undefined;
};

export type Department = {
  /**
   * The current version of the object. See the [versioning guide](https://docs.gusto.com/embedded-payroll/docs/idempotency) for information on how to use this field.
   */
  version?: string | undefined;
  /**
   * The UUID of the department
   */
  uuid?: string | undefined;
  /**
   * The UUID of the company
   */
  companyUuid?: string | undefined;
  /**
   * Name of the department
   */
  title?: string | undefined;
  /**
   * Array of employees assigned to the department.
   */
  employees?: Array<DepartmentEmployee> | undefined;
  /**
   * Array of contractors assigned to the department.
   */
  contractors?: Array<DepartmentContractor> | undefined;
};

/** @internal */
export const DepartmentEmployee$inboundSchema: z.ZodMiniType<
  DepartmentEmployee,
  unknown
> = z.object({
  uuid: types.optional(types.string()),
});

export function departmentEmployeeFromJSON(
  jsonString: string,
): SafeParseResult<DepartmentEmployee, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DepartmentEmployee$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DepartmentEmployee' from JSON`,
  );
}

/** @internal */
export const DepartmentContractor$inboundSchema: z.ZodMiniType<
  DepartmentContractor,
  unknown
> = z.object({
  uuid: types.optional(types.string()),
});

export function departmentContractorFromJSON(
  jsonString: string,
): SafeParseResult<DepartmentContractor, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DepartmentContractor$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DepartmentContractor' from JSON`,
  );
}

/** @internal */
export const Department$inboundSchema: z.ZodMiniType<Department, unknown> = z
  .pipe(
    z.object({
      version: types.optional(types.string()),
      uuid: types.optional(types.string()),
      company_uuid: types.optional(types.string()),
      title: types.optional(types.string()),
      employees: types.optional(
        z.array(z.lazy(() => DepartmentEmployee$inboundSchema)),
      ),
      contractors: types.optional(
        z.array(z.lazy(() => DepartmentContractor$inboundSchema)),
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        "company_uuid": "companyUuid",
      });
    }),
  );

export function departmentFromJSON(
  jsonString: string,
): SafeParseResult<Department, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Department$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Department' from JSON`,
  );
}
