/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { ClosedEnum } from "../../types/enums.js";
import * as models from "../index.js";

/**
 * The earning type for the compensation.
 */
export const EarningType = {
  CompanyPayType: "CompanyPayType",
  CompanyEarningType: "CompanyEarningType",
} as const;
/**
 * The earning type for the compensation.
 */
export type EarningType = ClosedEnum<typeof EarningType>;

/**
 * An array of earnings for the employee. Depends on your company selections, earnings includes wages, hours, bonuses, tips, commission and more.
 */
export type Earning = {
  /**
   * The hour of the compensation for the pay period.
   */
  hours?: string | undefined;
  /**
   * The amount of the earning.
   */
  amount?: string | undefined;
  /**
   * The ID of the earning.
   */
  earningId?: number | undefined;
  /**
   * The earning type for the compensation.
   */
  earningType?: EarningType | undefined;
};

/**
 * An array of benefits for the employee. Depends on your company selections, benefits include 401k, health insurance and more.
 */
export type Benefit = {
  /**
   * Company contribution amount towards the benefit
   */
  companyContributionAmount?: string | undefined;
  /**
   * Employee deduction amount towards the benefit
   */
  employeeDeductionAmount?: string | undefined;
  /**
   * The ID of the benefit.
   */
  benefitId?: number | undefined;
};

export type Tax = {
  /**
   * The amount of the tax.
   */
  amount?: string | undefined;
  /**
   * The ID of the tax.
   */
  taxId?: number | undefined;
};

/**
 * Submit wages, benefits, taxes for each employee
 */
export type ExternalPayrollItem = {
  /**
   * The UUID of the employee.
   */
  employeeUuid?: string | undefined;
  earnings?: Array<Earning> | undefined;
  benefits?: Array<Benefit> | undefined;
  /**
   * An array of taxes for the employee. Depends on your company selections, taxes include federal income tax, social security, medicare, and more.
   */
  taxes?: Array<Tax> | undefined;
};

export type PutV1ExternalPayrollRequestBody = {
  /**
   * Patch update external payroll items when set to true, otherwise it will overwrite the previous changes.
   */
  replaceFields?: boolean | undefined;
  externalPayrollItems?: Array<ExternalPayrollItem> | undefined;
};

export type PutV1ExternalPayrollRequest = {
  /**
   * The UUID of the company
   */
  companyUuid: string;
  /**
   * The UUID of the external payroll
   */
  externalPayrollId: string;
  /**
   * Determines the date-based API version associated with your API call. If none is provided, your application's [minimum API version](https://docs.gusto.com/embedded-payroll/docs/api-versioning#minimum-api-version) is used.
   */
  xGustoAPIVersion?: models.VersionHeader | undefined;
  body: PutV1ExternalPayrollRequestBody;
};

/** @internal */
export const EarningType$outboundSchema: z.ZodMiniEnum<typeof EarningType> = z
  .enum(EarningType);

/** @internal */
export type Earning$Outbound = {
  hours?: string | undefined;
  amount?: string | undefined;
  earning_id?: number | undefined;
  earning_type?: string | undefined;
};

/** @internal */
export const Earning$outboundSchema: z.ZodMiniType<Earning$Outbound, Earning> =
  z.pipe(
    z.object({
      hours: z.optional(z.string()),
      amount: z.optional(z.string()),
      earningId: z.optional(z.int()),
      earningType: z.optional(EarningType$outboundSchema),
    }),
    z.transform((v) => {
      return remap$(v, {
        earningId: "earning_id",
        earningType: "earning_type",
      });
    }),
  );

export function earningToJSON(earning: Earning): string {
  return JSON.stringify(Earning$outboundSchema.parse(earning));
}

/** @internal */
export type Benefit$Outbound = {
  company_contribution_amount?: string | undefined;
  employee_deduction_amount?: string | undefined;
  benefit_id?: number | undefined;
};

/** @internal */
export const Benefit$outboundSchema: z.ZodMiniType<Benefit$Outbound, Benefit> =
  z.pipe(
    z.object({
      companyContributionAmount: z.optional(z.string()),
      employeeDeductionAmount: z.optional(z.string()),
      benefitId: z.optional(z.int()),
    }),
    z.transform((v) => {
      return remap$(v, {
        companyContributionAmount: "company_contribution_amount",
        employeeDeductionAmount: "employee_deduction_amount",
        benefitId: "benefit_id",
      });
    }),
  );

export function benefitToJSON(benefit: Benefit): string {
  return JSON.stringify(Benefit$outboundSchema.parse(benefit));
}

/** @internal */
export type Tax$Outbound = {
  amount?: string | undefined;
  tax_id?: number | undefined;
};

/** @internal */
export const Tax$outboundSchema: z.ZodMiniType<Tax$Outbound, Tax> = z.pipe(
  z.object({
    amount: z.optional(z.string()),
    taxId: z.optional(z.int()),
  }),
  z.transform((v) => {
    return remap$(v, {
      taxId: "tax_id",
    });
  }),
);

export function taxToJSON(tax: Tax): string {
  return JSON.stringify(Tax$outboundSchema.parse(tax));
}

/** @internal */
export type ExternalPayrollItem$Outbound = {
  employee_uuid?: string | undefined;
  earnings?: Array<Earning$Outbound> | undefined;
  benefits?: Array<Benefit$Outbound> | undefined;
  taxes?: Array<Tax$Outbound> | undefined;
};

/** @internal */
export const ExternalPayrollItem$outboundSchema: z.ZodMiniType<
  ExternalPayrollItem$Outbound,
  ExternalPayrollItem
> = z.pipe(
  z.object({
    employeeUuid: z.optional(z.string()),
    earnings: z.optional(z.array(z.lazy(() => Earning$outboundSchema))),
    benefits: z.optional(z.array(z.lazy(() => Benefit$outboundSchema))),
    taxes: z.optional(z.array(z.lazy(() => Tax$outboundSchema))),
  }),
  z.transform((v) => {
    return remap$(v, {
      employeeUuid: "employee_uuid",
    });
  }),
);

export function externalPayrollItemToJSON(
  externalPayrollItem: ExternalPayrollItem,
): string {
  return JSON.stringify(
    ExternalPayrollItem$outboundSchema.parse(externalPayrollItem),
  );
}

/** @internal */
export type PutV1ExternalPayrollRequestBody$Outbound = {
  replace_fields?: boolean | undefined;
  external_payroll_items?: Array<ExternalPayrollItem$Outbound> | undefined;
};

/** @internal */
export const PutV1ExternalPayrollRequestBody$outboundSchema: z.ZodMiniType<
  PutV1ExternalPayrollRequestBody$Outbound,
  PutV1ExternalPayrollRequestBody
> = z.pipe(
  z.object({
    replaceFields: z.optional(z.boolean()),
    externalPayrollItems: z.optional(
      z.array(z.lazy(() => ExternalPayrollItem$outboundSchema)),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      replaceFields: "replace_fields",
      externalPayrollItems: "external_payroll_items",
    });
  }),
);

export function putV1ExternalPayrollRequestBodyToJSON(
  putV1ExternalPayrollRequestBody: PutV1ExternalPayrollRequestBody,
): string {
  return JSON.stringify(
    PutV1ExternalPayrollRequestBody$outboundSchema.parse(
      putV1ExternalPayrollRequestBody,
    ),
  );
}

/** @internal */
export type PutV1ExternalPayrollRequest$Outbound = {
  company_uuid: string;
  external_payroll_id: string;
  "X-Gusto-API-Version": string;
  body: PutV1ExternalPayrollRequestBody$Outbound;
};

/** @internal */
export const PutV1ExternalPayrollRequest$outboundSchema: z.ZodMiniType<
  PutV1ExternalPayrollRequest$Outbound,
  PutV1ExternalPayrollRequest
> = z.pipe(
  z.object({
    companyUuid: z.string(),
    externalPayrollId: z.string(),
    xGustoAPIVersion: z._default(
      models.VersionHeader$outboundSchema,
      "2025-06-15",
    ),
    body: z.lazy(() => PutV1ExternalPayrollRequestBody$outboundSchema),
  }),
  z.transform((v) => {
    return remap$(v, {
      companyUuid: "company_uuid",
      externalPayrollId: "external_payroll_id",
      xGustoAPIVersion: "X-Gusto-API-Version",
    });
  }),
);

export function putV1ExternalPayrollRequestToJSON(
  putV1ExternalPayrollRequest: PutV1ExternalPayrollRequest,
): string {
  return JSON.stringify(
    PutV1ExternalPayrollRequest$outboundSchema.parse(
      putV1ExternalPayrollRequest,
    ),
  );
}
