/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { ClosedEnum } from "../../types/enums.js";
import * as models from "../index.js";

/**
 * The payment method type. If type is Check, then `split_by` and `splits` do not need to be populated. If type is Direct Deposit, `split_by` and `splits` are required.
 */
export const PutV1EmployeesEmployeeIdPaymentMethodType = {
  DirectDeposit: "Direct Deposit",
  Check: "Check",
} as const;
/**
 * The payment method type. If type is Check, then `split_by` and `splits` do not need to be populated. If type is Direct Deposit, `split_by` and `splits` are required.
 */
export type PutV1EmployeesEmployeeIdPaymentMethodType = ClosedEnum<
  typeof PutV1EmployeesEmployeeIdPaymentMethodType
>;

/**
 * Describes how the payment will be split. If `split_by` is Percentage, then the `split` amounts must add up to exactly 100. If `split_by` is Amount, then amount is in cents and the last `split` amount must be `null` to capture the remainder.
 */
export const PutV1EmployeesEmployeeIdPaymentMethodSplitBy = {
  Amount: "Amount",
  Percentage: "Percentage",
} as const;
/**
 * Describes how the payment will be split. If `split_by` is Percentage, then the `split` amounts must add up to exactly 100. If `split_by` is Amount, then amount is in cents and the last `split` amount must be `null` to capture the remainder.
 */
export type PutV1EmployeesEmployeeIdPaymentMethodSplitBy = ClosedEnum<
  typeof PutV1EmployeesEmployeeIdPaymentMethodSplitBy
>;

export type Split = {
  /**
   * The bank account UUID
   */
  uuid?: string | undefined;
  /**
   * The bank account name
   */
  name?: string | undefined;
  /**
   * The order of priority for each payment split, with priority 1 being the first bank account paid. Priority must be unique and sequential.
   */
  priority?: number | undefined;
  /**
   * If `split_by` is 'Amount', this is in cents (e.g., 500 for $5.00) and exactly one account must have a `split_amount` of `null` to capture the remainder. If `split_by` is 'Percentage', this is the percentage value (e.g., 60 for 60%).
   */
  splitAmount?: number | null | undefined;
};

export type PutV1EmployeesEmployeeIdPaymentMethodRequestBody = {
  /**
   * The current version of the object. See the [versioning guide](https://docs.gusto.com/embedded-payroll/docs/versioning#object-layer) for information on how to use this field.
   */
  version: string;
  /**
   * The payment method type. If type is Check, then `split_by` and `splits` do not need to be populated. If type is Direct Deposit, `split_by` and `splits` are required.
   */
  type: PutV1EmployeesEmployeeIdPaymentMethodType;
  /**
   * Describes how the payment will be split. If `split_by` is Percentage, then the `split` amounts must add up to exactly 100. If `split_by` is Amount, then amount is in cents and the last `split` amount must be `null` to capture the remainder.
   */
  splitBy?: PutV1EmployeesEmployeeIdPaymentMethodSplitBy | undefined;
  splits?: Array<Split> | undefined;
};

export type PutV1EmployeesEmployeeIdPaymentMethodRequest = {
  /**
   * The UUID of the employee
   */
  employeeId: string;
  /**
   * Determines the date-based API version associated with your API call. If none is provided, your application's [minimum API version](https://docs.gusto.com/embedded-payroll/docs/api-versioning#minimum-api-version) is used.
   */
  xGustoAPIVersion?: models.VersionHeader | undefined;
  body: PutV1EmployeesEmployeeIdPaymentMethodRequestBody;
};

/** @internal */
export const PutV1EmployeesEmployeeIdPaymentMethodType$outboundSchema:
  z.ZodMiniEnum<typeof PutV1EmployeesEmployeeIdPaymentMethodType> = z.enum(
    PutV1EmployeesEmployeeIdPaymentMethodType,
  );

/** @internal */
export const PutV1EmployeesEmployeeIdPaymentMethodSplitBy$outboundSchema:
  z.ZodMiniEnum<typeof PutV1EmployeesEmployeeIdPaymentMethodSplitBy> = z.enum(
    PutV1EmployeesEmployeeIdPaymentMethodSplitBy,
  );

/** @internal */
export type Split$Outbound = {
  uuid?: string | undefined;
  name?: string | undefined;
  priority?: number | undefined;
  split_amount?: number | null | undefined;
};

/** @internal */
export const Split$outboundSchema: z.ZodMiniType<Split$Outbound, Split> = z
  .pipe(
    z.object({
      uuid: z.optional(z.string()),
      name: z.optional(z.string()),
      priority: z.optional(z.int()),
      splitAmount: z.optional(z.nullable(z.int())),
    }),
    z.transform((v) => {
      return remap$(v, {
        splitAmount: "split_amount",
      });
    }),
  );

export function splitToJSON(split: Split): string {
  return JSON.stringify(Split$outboundSchema.parse(split));
}

/** @internal */
export type PutV1EmployeesEmployeeIdPaymentMethodRequestBody$Outbound = {
  version: string;
  type: string;
  split_by?: string | undefined;
  splits?: Array<Split$Outbound> | undefined;
};

/** @internal */
export const PutV1EmployeesEmployeeIdPaymentMethodRequestBody$outboundSchema:
  z.ZodMiniType<
    PutV1EmployeesEmployeeIdPaymentMethodRequestBody$Outbound,
    PutV1EmployeesEmployeeIdPaymentMethodRequestBody
  > = z.pipe(
    z.object({
      version: z.string(),
      type: PutV1EmployeesEmployeeIdPaymentMethodType$outboundSchema,
      splitBy: z.optional(
        PutV1EmployeesEmployeeIdPaymentMethodSplitBy$outboundSchema,
      ),
      splits: z.optional(z.array(z.lazy(() => Split$outboundSchema))),
    }),
    z.transform((v) => {
      return remap$(v, {
        splitBy: "split_by",
      });
    }),
  );

export function putV1EmployeesEmployeeIdPaymentMethodRequestBodyToJSON(
  putV1EmployeesEmployeeIdPaymentMethodRequestBody:
    PutV1EmployeesEmployeeIdPaymentMethodRequestBody,
): string {
  return JSON.stringify(
    PutV1EmployeesEmployeeIdPaymentMethodRequestBody$outboundSchema.parse(
      putV1EmployeesEmployeeIdPaymentMethodRequestBody,
    ),
  );
}

/** @internal */
export type PutV1EmployeesEmployeeIdPaymentMethodRequest$Outbound = {
  employee_id: string;
  "X-Gusto-API-Version": string;
  body: PutV1EmployeesEmployeeIdPaymentMethodRequestBody$Outbound;
};

/** @internal */
export const PutV1EmployeesEmployeeIdPaymentMethodRequest$outboundSchema:
  z.ZodMiniType<
    PutV1EmployeesEmployeeIdPaymentMethodRequest$Outbound,
    PutV1EmployeesEmployeeIdPaymentMethodRequest
  > = z.pipe(
    z.object({
      employeeId: z.string(),
      xGustoAPIVersion: z._default(
        models.VersionHeader$outboundSchema,
        "2025-06-15",
      ),
      body: z.lazy(() =>
        PutV1EmployeesEmployeeIdPaymentMethodRequestBody$outboundSchema
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        employeeId: "employee_id",
        xGustoAPIVersion: "X-Gusto-API-Version",
      });
    }),
  );

export function putV1EmployeesEmployeeIdPaymentMethodRequestToJSON(
  putV1EmployeesEmployeeIdPaymentMethodRequest:
    PutV1EmployeesEmployeeIdPaymentMethodRequest,
): string {
  return JSON.stringify(
    PutV1EmployeesEmployeeIdPaymentMethodRequest$outboundSchema.parse(
      putV1EmployeesEmployeeIdPaymentMethodRequest,
    ),
  );
}
