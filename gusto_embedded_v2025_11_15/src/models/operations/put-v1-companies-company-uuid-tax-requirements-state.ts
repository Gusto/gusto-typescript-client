/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import * as models from "../index.js";

export type Requirement = {
  /**
   * An identifier for an individual requirement. Uniqueness is guaranteed within a requirement set.
   */
  key?: string | undefined;
  value?: string | null | undefined;
};

export type RequirementSet = {
  /**
   * An identifier for a set of requirements. A list of requirement sets can contain multiple sets with the same `key` and different `effective_from` values.
   */
  key?: string | undefined;
  /**
   * An ISO 8601 formatted date representing the date values became effective. Some requirement sets are effective dated, while others are not. Multiple requirement sets for the same state/key can/will exist with unique effective dates. If a requirement set is has an `effective_from` value, all requirement sets with the same key will also have an `effective_from` value.
   */
  effectiveFrom?: string | null | undefined;
  /**
   * One of the two-letter state abbreviations for the fifty United States and the District of Columbia (DC)
   */
  state?: string | undefined;
  requirements?: Array<Requirement> | undefined;
};

export type PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody = {
  requirementSets?: Array<RequirementSet> | undefined;
};

export type PutV1CompaniesCompanyUuidTaxRequirementsStateRequest = {
  /**
   * The UUID of the company
   */
  companyUuid: string;
  /**
   * 2-letter US state abbreviation
   */
  state: string;
  /**
   * Determines the date-based API version associated with your API call. If none is provided, your application's [minimum API version](https://docs.gusto.com/embedded-payroll/docs/api-versioning#minimum-api-version) is used.
   */
  xGustoAPIVersion?: models.VersionHeader | undefined;
  body: PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody;
};

/** @internal */
export type Requirement$Outbound = {
  key?: string | undefined;
  value?: string | null | undefined;
};

/** @internal */
export const Requirement$outboundSchema: z.ZodMiniType<
  Requirement$Outbound,
  Requirement
> = z.object({
  key: z.optional(z.string()),
  value: z.optional(z.nullable(z.string())),
});

export function requirementToJSON(requirement: Requirement): string {
  return JSON.stringify(Requirement$outboundSchema.parse(requirement));
}

/** @internal */
export type RequirementSet$Outbound = {
  key?: string | undefined;
  effective_from?: string | null | undefined;
  state?: string | undefined;
  requirements?: Array<Requirement$Outbound> | undefined;
};

/** @internal */
export const RequirementSet$outboundSchema: z.ZodMiniType<
  RequirementSet$Outbound,
  RequirementSet
> = z.pipe(
  z.object({
    key: z.optional(z.string()),
    effectiveFrom: z.optional(z.nullable(z.string())),
    state: z.optional(z.string()),
    requirements: z.optional(z.array(z.lazy(() => Requirement$outboundSchema))),
  }),
  z.transform((v) => {
    return remap$(v, {
      effectiveFrom: "effective_from",
    });
  }),
);

export function requirementSetToJSON(requirementSet: RequirementSet): string {
  return JSON.stringify(RequirementSet$outboundSchema.parse(requirementSet));
}

/** @internal */
export type PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$Outbound =
  {
    requirement_sets?: Array<RequirementSet$Outbound> | undefined;
  };

/** @internal */
export const PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$outboundSchema:
  z.ZodMiniType<
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$Outbound,
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody
  > = z.pipe(
    z.object({
      requirementSets: z.optional(
        z.array(z.lazy(() => RequirementSet$outboundSchema)),
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        requirementSets: "requirement_sets",
      });
    }),
  );

export function putV1CompaniesCompanyUuidTaxRequirementsStateRequestBodyToJSON(
  putV1CompaniesCompanyUuidTaxRequirementsStateRequestBody:
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody,
): string {
  return JSON.stringify(
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$outboundSchema
      .parse(putV1CompaniesCompanyUuidTaxRequirementsStateRequestBody),
  );
}

/** @internal */
export type PutV1CompaniesCompanyUuidTaxRequirementsStateRequest$Outbound = {
  company_uuid: string;
  state: string;
  "X-Gusto-API-Version": string;
  body: PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$Outbound;
};

/** @internal */
export const PutV1CompaniesCompanyUuidTaxRequirementsStateRequest$outboundSchema:
  z.ZodMiniType<
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequest$Outbound,
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequest
  > = z.pipe(
    z.object({
      companyUuid: z.string(),
      state: z.string(),
      xGustoAPIVersion: z._default(
        models.VersionHeader$outboundSchema,
        "2025-06-15",
      ),
      body: z.lazy(() =>
        PutV1CompaniesCompanyUuidTaxRequirementsStateRequestBody$outboundSchema
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        companyUuid: "company_uuid",
        xGustoAPIVersion: "X-Gusto-API-Version",
      });
    }),
  );

export function putV1CompaniesCompanyUuidTaxRequirementsStateRequestToJSON(
  putV1CompaniesCompanyUuidTaxRequirementsStateRequest:
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequest,
): string {
  return JSON.stringify(
    PutV1CompaniesCompanyUuidTaxRequirementsStateRequest$outboundSchema.parse(
      putV1CompaniesCompanyUuidTaxRequirementsStateRequest,
    ),
  );
}
