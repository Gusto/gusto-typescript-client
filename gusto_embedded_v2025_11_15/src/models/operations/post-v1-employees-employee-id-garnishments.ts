/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { ClosedEnum } from "../../types/enums.js";
import * as models from "../index.js";

/**
 * The specific type of garnishment for court ordered garnishments.
 */
export const GarnishmentType = {
  ChildSupport: "child_support",
  FederalTaxLien: "federal_tax_lien",
  StateTaxLien: "state_tax_lien",
  StudentLoan: "student_loan",
  CreditorGarnishment: "creditor_garnishment",
  FederalLoan: "federal_loan",
  OtherGarnishment: "other_garnishment",
} as const;
/**
 * The specific type of garnishment for court ordered garnishments.
 */
export type GarnishmentType = ClosedEnum<typeof GarnishmentType>;

export type PostV1EmployeesEmployeeIdGarnishmentsRequestBody = {
  /**
   * Whether or not this garnishment is currently active.
   */
  active?: boolean | undefined;
  /**
   * The amount of the garnishment. Either a percentage or a fixed dollar amount. Represented as a float, e.g. "8.00".
   */
  amount: string;
  /**
   * The description of the garnishment.
   */
  description?: string | undefined;
  /**
   * Whether the garnishment is court ordered.
   */
  courtOrdered: boolean;
  /**
   * The specific type of garnishment for court ordered garnishments.
   */
  garnishmentType?: GarnishmentType | null | undefined;
  /**
   * The number of times to apply the garnishment. Ignored if recurring is true.
   */
  times?: number | null | undefined;
  /**
   * Whether the garnishment should recur indefinitely.
   */
  recurring?: boolean | undefined;
  /**
   * The maximum deduction per annum. A null value indicates no maximum. Represented as a float, e.g. "200.00".
   */
  annualMaximum?: string | null | undefined;
  /**
   * The maximum deduction per pay period. A null value indicates no maximum. Represented as a float, e.g. "16.00".
   */
  payPeriodMaximum?: string | null | undefined;
  /**
   * Whether the amount should be treated as a percentage to be deducted per pay period.
   */
  deductAsPercentage?: boolean | undefined;
  /**
   * A maximum total deduction for the lifetime of this garnishment. A null value indicates no maximum.
   */
  totalAmount?: string | null | undefined;
  /**
   * Additional child support order details
   */
  childSupport?: models.GarnishmentChildSupport | null | undefined;
};

export type PostV1EmployeesEmployeeIdGarnishmentsRequest = {
  /**
   * The UUID of the employee
   */
  employeeId: string;
  /**
   * Determines the date-based API version associated with your API call. If none is provided, your application's [minimum API version](https://docs.gusto.com/embedded-payroll/docs/api-versioning#minimum-api-version) is used.
   */
  xGustoAPIVersion?: models.VersionHeader | undefined;
  body: PostV1EmployeesEmployeeIdGarnishmentsRequestBody;
};

/** @internal */
export const GarnishmentType$outboundSchema: z.ZodMiniEnum<
  typeof GarnishmentType
> = z.enum(GarnishmentType);

/** @internal */
export type PostV1EmployeesEmployeeIdGarnishmentsRequestBody$Outbound = {
  active: boolean;
  amount: string;
  description?: string | undefined;
  court_ordered: boolean;
  garnishment_type?: string | null | undefined;
  times: number | null;
  recurring: boolean;
  annual_maximum: string | null;
  pay_period_maximum: string | null;
  deduct_as_percentage: boolean;
  total_amount?: string | null | undefined;
  child_support?: models.GarnishmentChildSupport$Outbound | null | undefined;
};

/** @internal */
export const PostV1EmployeesEmployeeIdGarnishmentsRequestBody$outboundSchema:
  z.ZodMiniType<
    PostV1EmployeesEmployeeIdGarnishmentsRequestBody$Outbound,
    PostV1EmployeesEmployeeIdGarnishmentsRequestBody
  > = z.pipe(
    z.object({
      active: z._default(z.boolean(), true),
      amount: z.string(),
      description: z.optional(z.string()),
      courtOrdered: z.boolean(),
      garnishmentType: z.optional(z.nullable(GarnishmentType$outboundSchema)),
      times: z._default(z.nullable(z.int()), null),
      recurring: z._default(z.boolean(), false),
      annualMaximum: z._default(z.nullable(z.string()), null),
      payPeriodMaximum: z._default(z.nullable(z.string()), null),
      deductAsPercentage: z._default(z.boolean(), false),
      totalAmount: z.optional(z.nullable(z.string())),
      childSupport: z.optional(
        z.nullable(models.GarnishmentChildSupport$outboundSchema),
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        courtOrdered: "court_ordered",
        garnishmentType: "garnishment_type",
        annualMaximum: "annual_maximum",
        payPeriodMaximum: "pay_period_maximum",
        deductAsPercentage: "deduct_as_percentage",
        totalAmount: "total_amount",
        childSupport: "child_support",
      });
    }),
  );

export function postV1EmployeesEmployeeIdGarnishmentsRequestBodyToJSON(
  postV1EmployeesEmployeeIdGarnishmentsRequestBody:
    PostV1EmployeesEmployeeIdGarnishmentsRequestBody,
): string {
  return JSON.stringify(
    PostV1EmployeesEmployeeIdGarnishmentsRequestBody$outboundSchema.parse(
      postV1EmployeesEmployeeIdGarnishmentsRequestBody,
    ),
  );
}

/** @internal */
export type PostV1EmployeesEmployeeIdGarnishmentsRequest$Outbound = {
  employee_id: string;
  "X-Gusto-API-Version": string;
  body: PostV1EmployeesEmployeeIdGarnishmentsRequestBody$Outbound;
};

/** @internal */
export const PostV1EmployeesEmployeeIdGarnishmentsRequest$outboundSchema:
  z.ZodMiniType<
    PostV1EmployeesEmployeeIdGarnishmentsRequest$Outbound,
    PostV1EmployeesEmployeeIdGarnishmentsRequest
  > = z.pipe(
    z.object({
      employeeId: z.string(),
      xGustoAPIVersion: z._default(
        models.VersionHeader$outboundSchema,
        "2025-06-15",
      ),
      body: z.lazy(() =>
        PostV1EmployeesEmployeeIdGarnishmentsRequestBody$outboundSchema
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        employeeId: "employee_id",
        xGustoAPIVersion: "X-Gusto-API-Version",
      });
    }),
  );

export function postV1EmployeesEmployeeIdGarnishmentsRequestToJSON(
  postV1EmployeesEmployeeIdGarnishmentsRequest:
    PostV1EmployeesEmployeeIdGarnishmentsRequest,
): string {
  return JSON.stringify(
    PostV1EmployeesEmployeeIdGarnishmentsRequest$outboundSchema.parse(
      postV1EmployeesEmployeeIdGarnishmentsRequest,
    ),
  );
}
