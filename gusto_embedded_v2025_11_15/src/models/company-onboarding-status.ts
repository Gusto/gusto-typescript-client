/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

/**
 * The string identifier for each onboarding step
 */
export const Id = {
  AddAddresses: "add_addresses",
  FederalTaxSetup: "federal_tax_setup",
  SelectIndustry: "select_industry",
  AddBankInfo: "add_bank_info",
  AddEmployees: "add_employees",
  StateSetup: "state_setup",
  PayrollSchedule: "payroll_schedule",
  SignAllForms: "sign_all_forms",
  VerifyBankInfo: "verify_bank_info",
  ExternalPayroll: "external_payroll",
} as const;
/**
 * The string identifier for each onboarding step
 */
export type Id = OpenEnum<typeof Id>;

export const Requirement = {
  AddAddresses: "add_addresses",
  FederalTaxSetup: "federal_tax_setup",
  SelectIndustry: "select_industry",
  AddBankInfo: "add_bank_info",
  AddEmployees: "add_employees",
  StateSetup: "state_setup",
  PayrollSchedule: "payroll_schedule",
  SignAllForms: "sign_all_forms",
  VerifyBankInfo: "verify_bank_info",
  ExternalPayroll: "external_payroll",
} as const;
export type Requirement = OpenEnum<typeof Requirement>;

export type CompanyOnboardingStatusOnboardingStep = {
  /**
   * The display name of the onboarding step
   */
  title?: string | undefined;
  /**
   * The string identifier for each onboarding step
   */
  id?: Id | undefined;
  /**
   * The boolean flag indicating whether the step is required or optional
   */
  required?: boolean | undefined;
  /**
   * The boolean flag indicating whether the step is completed or not.
   */
  completed?: boolean | undefined;
  /**
   * The ISO 8601 timestamp indicating when the onboarding step was completed.
   */
  completedAt?: string | null | undefined;
  /**
   * The boolean flag indicating whether the step can be skipped or not.
   */
  skippable?: boolean | undefined;
  /**
   * A list of onboarding steps that are required to be completed in order to proceed with the current onboarding step.
   */
  requirements?: Array<Requirement> | undefined;
};

/**
 * The representation of a company's onboarding status
 */
export type CompanyOnboardingStatus = {
  /**
   * the UUID of the company
   */
  uuid: string;
  /**
   * a boolean flag for the company's onboarding status
   */
  onboardingCompleted?: boolean | undefined;
  /**
   * a list of company onboarding steps
   */
  onboardingSteps?: Array<CompanyOnboardingStatusOnboardingStep> | undefined;
};

/** @internal */
export const Id$inboundSchema: z.ZodMiniType<Id, unknown> = openEnums
  .inboundSchema(Id);

/** @internal */
export const Requirement$inboundSchema: z.ZodMiniType<Requirement, unknown> =
  openEnums.inboundSchema(Requirement);

/** @internal */
export const CompanyOnboardingStatusOnboardingStep$inboundSchema: z.ZodMiniType<
  CompanyOnboardingStatusOnboardingStep,
  unknown
> = z.pipe(
  z.object({
    title: types.optional(types.string()),
    id: types.optional(Id$inboundSchema),
    required: types.optional(types.boolean()),
    completed: types.optional(types.boolean()),
    completed_at: z.optional(z.nullable(types.string())),
    skippable: types.optional(types.boolean()),
    requirements: types.optional(z.array(Requirement$inboundSchema)),
  }),
  z.transform((v) => {
    return remap$(v, {
      "completed_at": "completedAt",
    });
  }),
);

export function companyOnboardingStatusOnboardingStepFromJSON(
  jsonString: string,
): SafeParseResult<CompanyOnboardingStatusOnboardingStep, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      CompanyOnboardingStatusOnboardingStep$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CompanyOnboardingStatusOnboardingStep' from JSON`,
  );
}

/** @internal */
export const CompanyOnboardingStatus$inboundSchema: z.ZodMiniType<
  CompanyOnboardingStatus,
  unknown
> = z.pipe(
  z.object({
    uuid: types.string(),
    onboarding_completed: types.optional(types.boolean()),
    onboarding_steps: types.optional(
      z.array(
        z.lazy(() => CompanyOnboardingStatusOnboardingStep$inboundSchema),
      ),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      "onboarding_completed": "onboardingCompleted",
      "onboarding_steps": "onboardingSteps",
    });
  }),
);

export function companyOnboardingStatusFromJSON(
  jsonString: string,
): SafeParseResult<CompanyOnboardingStatus, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CompanyOnboardingStatus$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CompanyOnboardingStatus' from JSON`,
  );
}
