/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { ClosedEnum } from "../types/enums.js";

/**
 * The employee's compensation payment method. Invalid values will be ignored.
 */
export const PayrollUpdatePaymentMethod = {
  DirectDeposit: "Direct Deposit",
  Check: "Check",
} as const;
/**
 * The employee's compensation payment method. Invalid values will be ignored.
 */
export type PayrollUpdatePaymentMethod = ClosedEnum<
  typeof PayrollUpdatePaymentMethod
>;

/**
 * An array of fixed compensations for the employee. Fixed compensations include tips, bonuses, and one time reimbursements.
 */
export type PayrollUpdateFixedCompensation = {
  /**
   * The name of the compensation. This also serves as the unique, immutable identifier for this compensation.
   */
  name?: string | undefined;
  /**
   * The amount of the compensation for the pay period.
   */
  amount?: string | undefined;
  /**
   * The UUID of the job for the compensation.
   */
  jobUuid?: string | undefined;
};

/**
 * An array of hourly compensations for the employee. Hourly compensations include regular, overtime, and double overtime hours.
 */
export type PayrollUpdateHourlyCompensation = {
  /**
   * The name of the compensation. This also serves as the unique, immutable identifier for this compensation.
   */
  name?: string | undefined;
  /**
   * The number of hours to be compensated for this pay period.
   */
  hours?: string | undefined;
  /**
   * The UUIDs of the job for the compensation.
   */
  jobUuid?: string | undefined;
};

/**
 * The amount type of the deduction for the pay period.
 */
export const PayrollUpdateAmountType = {
  Fixed: "fixed",
  Percent: "percent",
} as const;
/**
 * The amount type of the deduction for the pay period.
 */
export type PayrollUpdateAmountType = ClosedEnum<
  typeof PayrollUpdateAmountType
>;

/**
 * An array of deductions for the employee.
 */
export type PayrollUpdateDeduction = {
  /**
   * The name of the deduction.
   */
  name?: string | undefined;
  /**
   * The amount of the deduction for the pay period.
   */
  amount?: number | undefined;
  /**
   * The amount type of the deduction for the pay period.
   */
  amountType?: PayrollUpdateAmountType | undefined;
  /**
   * The UUID of the deduction. This parameter is optional and can be provided in order to update an existing deduction.
   */
  uuid?: string | undefined;
};

export type PayrollUpdatePaidTimeOff = {
  /**
   * The name of the PTO. This also serves as the unique, immutable identifier for the PTO. Must pass in name or policy_uuid but not both.
   */
  name?: string | undefined;
  /**
   * The hours of this PTO taken during the pay period.
   */
  hours?: string | undefined;
  /**
   * The uuid of the PTO policy. Must pass in name or policy_uuid but not both.
   */
  policyUuid?: string | undefined;
  /**
   * The outstanding hours paid upon termination. This field is only applicable for termination payrolls.
   */
  finalPayoutUnusedHoursInput?: string | undefined;
};

export type PayrollUpdateReimbursement = {
  /**
   * The dollar amount of the reimbursement for the pay period.
   */
  amount?: string | undefined;
  /**
   * The description of the reimbursement. If not provided, the reimbursement will be unnamed.
   */
  description?: string | undefined;
  /**
   * The UUID of an existing reimbursement. This parameter is optional and can be provided in order to update an existing reimbursement.
   */
  uuid?: string | undefined;
};

export type PayrollUpdateEmployeeCompensation = {
  /**
   * The UUID of the employee.
   */
  employeeUuid?: string | undefined;
  /**
   * The current version of this employee compensation from the prepared payroll. See the [versioning guide](https://docs.gusto.com/embedded-payroll/docs/idempotency) for information on how to use this field.
   */
  version?: string | undefined;
  /**
   * This employee will be excluded from payroll calculation and will not be paid for the payroll.
   */
  excluded?: boolean | undefined;
  /**
   * The employee's compensation payment method. Invalid values will be ignored.
   */
  paymentMethod?: PayrollUpdatePaymentMethod | undefined;
  /**
   * Custom text that will be printed as a personal note to the employee on a paystub.
   */
  memo?: string | undefined;
  fixedCompensations?: Array<PayrollUpdateFixedCompensation> | undefined;
  hourlyCompensations?: Array<PayrollUpdateHourlyCompensation> | undefined;
  deductions?: Array<PayrollUpdateDeduction> | undefined;
  /**
   * An array of all paid time off the employee is eligible for this pay period. Each paid time off object can be the name or the specific policy_uuid.
   */
  paidTimeOff?: Array<PayrollUpdatePaidTimeOff> | undefined;
  /**
   * An array of reimbursements for the employee.
   */
  reimbursements?: Array<PayrollUpdateReimbursement> | undefined;
};

/**
 * The payment schedule tax rate the payroll is based on. Only relevant for off-cycle payrolls.
 */
export const WithholdingPayPeriod = {
  EveryWeek: "Every week",
  EveryOtherWeek: "Every other week",
  TwicePerMonth: "Twice per month",
  Monthly: "Monthly",
  Quarterly: "Quarterly",
  Semiannually: "Semiannually",
  Annually: "Annually",
} as const;
/**
 * The payment schedule tax rate the payroll is based on. Only relevant for off-cycle payrolls.
 */
export type WithholdingPayPeriod = ClosedEnum<typeof WithholdingPayPeriod>;

export type PayrollUpdate = {
  employeeCompensations: Array<PayrollUpdateEmployeeCompensation>;
  /**
   * The payment schedule tax rate the payroll is based on. Only relevant for off-cycle payrolls.
   */
  withholdingPayPeriod?: WithholdingPayPeriod | undefined;
  /**
   * Block regular deductions and contributions for this payroll. Only relevant for off-cycle payrolls.
   */
  skipRegularDeductions?: boolean | undefined;
  /**
   * Enable taxes to be withheld at the IRS's required rate of 22% for federal income taxes. State income taxes will be taxed at the state's supplemental tax rate. Otherwise, we'll sum the entirety of the employee's wages and withhold taxes on the entire amount at the rate for regular wages. Only relevant for off-cycle payrolls.
   */
  fixedWithholdingRate?: boolean | undefined;
};

/** @internal */
export const PayrollUpdatePaymentMethod$outboundSchema: z.ZodMiniEnum<
  typeof PayrollUpdatePaymentMethod
> = z.enum(PayrollUpdatePaymentMethod);

/** @internal */
export type PayrollUpdateFixedCompensation$Outbound = {
  name?: string | undefined;
  amount?: string | undefined;
  job_uuid?: string | undefined;
};

/** @internal */
export const PayrollUpdateFixedCompensation$outboundSchema: z.ZodMiniType<
  PayrollUpdateFixedCompensation$Outbound,
  PayrollUpdateFixedCompensation
> = z.pipe(
  z.object({
    name: z.optional(z.string()),
    amount: z.optional(z.string()),
    jobUuid: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      jobUuid: "job_uuid",
    });
  }),
);

export function payrollUpdateFixedCompensationToJSON(
  payrollUpdateFixedCompensation: PayrollUpdateFixedCompensation,
): string {
  return JSON.stringify(
    PayrollUpdateFixedCompensation$outboundSchema.parse(
      payrollUpdateFixedCompensation,
    ),
  );
}

/** @internal */
export type PayrollUpdateHourlyCompensation$Outbound = {
  name?: string | undefined;
  hours?: string | undefined;
  job_uuid?: string | undefined;
};

/** @internal */
export const PayrollUpdateHourlyCompensation$outboundSchema: z.ZodMiniType<
  PayrollUpdateHourlyCompensation$Outbound,
  PayrollUpdateHourlyCompensation
> = z.pipe(
  z.object({
    name: z.optional(z.string()),
    hours: z.optional(z.string()),
    jobUuid: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      jobUuid: "job_uuid",
    });
  }),
);

export function payrollUpdateHourlyCompensationToJSON(
  payrollUpdateHourlyCompensation: PayrollUpdateHourlyCompensation,
): string {
  return JSON.stringify(
    PayrollUpdateHourlyCompensation$outboundSchema.parse(
      payrollUpdateHourlyCompensation,
    ),
  );
}

/** @internal */
export const PayrollUpdateAmountType$outboundSchema: z.ZodMiniEnum<
  typeof PayrollUpdateAmountType
> = z.enum(PayrollUpdateAmountType);

/** @internal */
export type PayrollUpdateDeduction$Outbound = {
  name?: string | undefined;
  amount?: number | undefined;
  amount_type?: string | undefined;
  uuid?: string | undefined;
};

/** @internal */
export const PayrollUpdateDeduction$outboundSchema: z.ZodMiniType<
  PayrollUpdateDeduction$Outbound,
  PayrollUpdateDeduction
> = z.pipe(
  z.object({
    name: z.optional(z.string()),
    amount: z.optional(z.number()),
    amountType: z.optional(PayrollUpdateAmountType$outboundSchema),
    uuid: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      amountType: "amount_type",
    });
  }),
);

export function payrollUpdateDeductionToJSON(
  payrollUpdateDeduction: PayrollUpdateDeduction,
): string {
  return JSON.stringify(
    PayrollUpdateDeduction$outboundSchema.parse(payrollUpdateDeduction),
  );
}

/** @internal */
export type PayrollUpdatePaidTimeOff$Outbound = {
  name?: string | undefined;
  hours?: string | undefined;
  policy_uuid?: string | undefined;
  final_payout_unused_hours_input?: string | undefined;
};

/** @internal */
export const PayrollUpdatePaidTimeOff$outboundSchema: z.ZodMiniType<
  PayrollUpdatePaidTimeOff$Outbound,
  PayrollUpdatePaidTimeOff
> = z.pipe(
  z.object({
    name: z.optional(z.string()),
    hours: z.optional(z.string()),
    policyUuid: z.optional(z.string()),
    finalPayoutUnusedHoursInput: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      policyUuid: "policy_uuid",
      finalPayoutUnusedHoursInput: "final_payout_unused_hours_input",
    });
  }),
);

export function payrollUpdatePaidTimeOffToJSON(
  payrollUpdatePaidTimeOff: PayrollUpdatePaidTimeOff,
): string {
  return JSON.stringify(
    PayrollUpdatePaidTimeOff$outboundSchema.parse(payrollUpdatePaidTimeOff),
  );
}

/** @internal */
export type PayrollUpdateReimbursement$Outbound = {
  amount?: string | undefined;
  description?: string | undefined;
  uuid?: string | undefined;
};

/** @internal */
export const PayrollUpdateReimbursement$outboundSchema: z.ZodMiniType<
  PayrollUpdateReimbursement$Outbound,
  PayrollUpdateReimbursement
> = z.object({
  amount: z.optional(z.string()),
  description: z.optional(z.string()),
  uuid: z.optional(z.string()),
});

export function payrollUpdateReimbursementToJSON(
  payrollUpdateReimbursement: PayrollUpdateReimbursement,
): string {
  return JSON.stringify(
    PayrollUpdateReimbursement$outboundSchema.parse(payrollUpdateReimbursement),
  );
}

/** @internal */
export type PayrollUpdateEmployeeCompensation$Outbound = {
  employee_uuid?: string | undefined;
  version?: string | undefined;
  excluded?: boolean | undefined;
  payment_method?: string | undefined;
  memo?: string | undefined;
  fixed_compensations?:
    | Array<PayrollUpdateFixedCompensation$Outbound>
    | undefined;
  hourly_compensations?:
    | Array<PayrollUpdateHourlyCompensation$Outbound>
    | undefined;
  deductions?: Array<PayrollUpdateDeduction$Outbound> | undefined;
  paid_time_off?: Array<PayrollUpdatePaidTimeOff$Outbound> | undefined;
  reimbursements?: Array<PayrollUpdateReimbursement$Outbound> | undefined;
};

/** @internal */
export const PayrollUpdateEmployeeCompensation$outboundSchema: z.ZodMiniType<
  PayrollUpdateEmployeeCompensation$Outbound,
  PayrollUpdateEmployeeCompensation
> = z.pipe(
  z.object({
    employeeUuid: z.optional(z.string()),
    version: z.optional(z.string()),
    excluded: z.optional(z.boolean()),
    paymentMethod: z.optional(PayrollUpdatePaymentMethod$outboundSchema),
    memo: z.optional(z.string()),
    fixedCompensations: z.optional(
      z.array(z.lazy(() => PayrollUpdateFixedCompensation$outboundSchema)),
    ),
    hourlyCompensations: z.optional(
      z.array(z.lazy(() => PayrollUpdateHourlyCompensation$outboundSchema)),
    ),
    deductions: z.optional(
      z.array(z.lazy(() => PayrollUpdateDeduction$outboundSchema)),
    ),
    paidTimeOff: z.optional(
      z.array(z.lazy(() => PayrollUpdatePaidTimeOff$outboundSchema)),
    ),
    reimbursements: z.optional(
      z.array(z.lazy(() => PayrollUpdateReimbursement$outboundSchema)),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      employeeUuid: "employee_uuid",
      paymentMethod: "payment_method",
      fixedCompensations: "fixed_compensations",
      hourlyCompensations: "hourly_compensations",
      paidTimeOff: "paid_time_off",
    });
  }),
);

export function payrollUpdateEmployeeCompensationToJSON(
  payrollUpdateEmployeeCompensation: PayrollUpdateEmployeeCompensation,
): string {
  return JSON.stringify(
    PayrollUpdateEmployeeCompensation$outboundSchema.parse(
      payrollUpdateEmployeeCompensation,
    ),
  );
}

/** @internal */
export const WithholdingPayPeriod$outboundSchema: z.ZodMiniEnum<
  typeof WithholdingPayPeriod
> = z.enum(WithholdingPayPeriod);

/** @internal */
export type PayrollUpdate$Outbound = {
  employee_compensations: Array<PayrollUpdateEmployeeCompensation$Outbound>;
  withholding_pay_period?: string | undefined;
  skip_regular_deductions?: boolean | undefined;
  fixed_withholding_rate?: boolean | undefined;
};

/** @internal */
export const PayrollUpdate$outboundSchema: z.ZodMiniType<
  PayrollUpdate$Outbound,
  PayrollUpdate
> = z.pipe(
  z.object({
    employeeCompensations: z.array(
      z.lazy(() => PayrollUpdateEmployeeCompensation$outboundSchema),
    ),
    withholdingPayPeriod: z.optional(WithholdingPayPeriod$outboundSchema),
    skipRegularDeductions: z.optional(z.boolean()),
    fixedWithholdingRate: z.optional(z.boolean()),
  }),
  z.transform((v) => {
    return remap$(v, {
      employeeCompensations: "employee_compensations",
      withholdingPayPeriod: "withholding_pay_period",
      skipRegularDeductions: "skip_regular_deductions",
      fixedWithholdingRate: "fixed_withholding_rate",
    });
  }),
);

export function payrollUpdateToJSON(payrollUpdate: PayrollUpdate): string {
  return JSON.stringify(PayrollUpdate$outboundSchema.parse(payrollUpdate));
}
